<!DOCTYPE html>
<html lang="en-US" dir="ltr">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>CDN | Financial Media  Corp. | By Noe Gomez / Juan Jimenez</title>


    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <link rel="shortcut icon" type="image/x-icon" href="https://finmc.com/img2/favicon.ico">
    

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link href="assets/css/theme.css" rel="stylesheet" />

  </head>


  <body>

    <!-- ===============================================-->
    <!--    Main Content-->
    <!-- ===============================================-->
    <main class="main" id="top">
      <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" data-navbar-on-scroll="data-navbar-on-scroll">
        <div class="container"><a class="navbar-brand d-flex align-items-center fw-bold fs-2" href="index.html"><img class="d-inline-block me-3" src="https://finmc.com/img2/favicon.ico" alt="" />CDN SIP</a>
          <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
          <div class="collapse navbar-collapse border-top border-lg-0 mt-4 mt-lg-0" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto pt-2 pt-lg-0">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="documentation.html">Documentation</a></li>
                <li class="nav-item"><a class="nav-link" href="index.html#toc">Table of content</a></li>
            </ul>
          </div>
        </div>
      </nav>
      <section class="py-0">
        <div class="bg-holder" style="background-image:url(assets/img/illustrations/dot.png);background-position:left;background-size:auto;margin-top:-105px;">
        </div>
        <!--/.bg-holder-->

        <div class="container position-relative">
          <div class="row align-items-center">
            <div class="col pt-5 pt-md-9">
              <h1 class="mb-4 display-3 fw-bold">How to submit form data to Hubspot API Javascript?</h1>
              
              <p class="mt-5 fs-1">When you have created the form in the hubspot panel, they will provide you with a script like the following one, from this script we will obtain the values of the portalId and formId:</p>
              <pre class="bg-dark p-3 text-white"><code><!--[if lte IE 8]>
    <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script>
<![endif]-->
<script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script>
<script>
    hbspt.forms.create({
        region: "na1",
        portalId: "XXXXXXXX",
        formId: "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXX"
    });
</script></code></pre>
              <p class="mt-5 fs-1">We collect all the data from the form</p>
              <pre class="bg-dark p-3 text-white"><code>let data = $( "form" ).serializeArray();
//o
data = [
    {
        "name": "email",
        "value": info@juanjimeneztj.com
    },
...
]; </code></pre>
              <p class="mt-3 fs-1">We prepare the fields to send and put them in json format</p>
              <pre class="bg-dark p-3 text-white"><code>let json_value = {
    "fields": data,
    "skipValidation": false
};</code></pre>
              <p class="mt-3 fs-1">We send all the data by ajax</p>
              <pre class="bg-dark p-3 text-white"><code>$.ajax({
    url: 'https://api.hsforms.com/submissions/v3/integration/submit/portalId/formId',
    type: 'post',
    dataType: 'json',
    contentType: 'application/json',
    data: JSON.stringify(json_value),
    success: function (resp) {
        console.log(resp);
    },
});</code></pre>
              <p class="mt-3 fs-1">Result if all its fine</p>
              <pre class="bg-dark p-3 text-white"><code>{
    "thankYouMessage": "Thanks!",
}
//o 
{
    "redirectUri": "https://juanjimeneztj.com/redirect",
}</code></pre>
              <p class="mt-3 fs-1">In case of error</p>
              <pre class="bg-dark p-3 text-white"><code>{
    "status": "error",
    "message": "",
    ...
} </code></pre>
              <p class="mt-3 fs-1">Once the previus steps have been carried out, you should have something similar to the dowllowing script:</p>
              <pre class="bg-dark p-3 text-white"><code>$('form').submit(function(event){
    // we prevent the submission of the form
    event.preventDefault();

    // we get the email from the form
    let gswebEmail = $(this).find('input[type=email]').val();
    let data = [
        {
        "name": "email",
        "value": gswebEmail
        }
    ];
    let json_value = {
        "fields": data,
        "skipValidation": false
    };
    $.ajax({
        url: 'https://api.hsforms.com/submissions/v3/integration/submit/portalId/formId',
        type: 'post',
        dataType: 'json',
        contentType: 'application/json',
        data: JSON.stringify(json_value),
        success: function (response) {
            console.log(response);
        }
    });
});</code></pre>

<p class="mt-4 fs-1">This procedure was created from the hubspot documentation, if you want to read a little more about the parameters you can visit <a href="https://legacydocs.hubspot.com/docs/methods/forms/submit_form" target="_blank" rel="noopener noreferrer" class="fw-bold">the hubspot documentation here</a></p>
               <p class="mt-3 fs-1"><a href="mailto:info@juanjimeneztj.com">If you have questions about this, do not hesitate to contact me, I will be happy to give you support.</a></p>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================-->
      <!-- <section> begin ============================-->
      <section class="py-2">

        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="text-center">
                <p class="mb-0">&copy; This template is made with&nbsp;
                  <svg class="bi bi-suit-heart-fill" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#458FF6" viewBox="0 0 16 16">
                    <path d="M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z"></path>
                  </svg>&nbsp;by&nbsp;<a class="text-black" href="https://juanjimeneztj.com/" target="_blank">Juan Jimenez </a>
                </p>
              </div>
            </div>
          </div>
        </div><!-- end of .container-->

      </section>
      <!-- <section> close ============================-->
      <!-- ============================================-->


    </main>
    <!-- ===============================================-->
    <!--    End of Main Content-->
    <!-- ===============================================-->


    <!-- ===============================================-->
    <!--    JavaScripts-->
    <!-- ===============================================-->
    <script src="vendors/@popperjs/popper.min.js"></script>
    <script src="vendors/bootstrap/bootstrap.min.js"></script>
    <script src="vendors/is/is.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
    <script src="assets/js/theme.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500&amp;display=swap" rel="stylesheet">
    <!-- ===============================================-->
    <!--    PrettyCode-->
    <!-- ===============================================-->
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  </body>

</html>